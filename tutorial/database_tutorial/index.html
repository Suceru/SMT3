<!DOCTYPE html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content=销锋镝铸><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content="en, jp"><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href=../../favicon.png><link rel=manifest href=../../manifest.json><meta name=generator content="mkdocs-0.17.3, mkdocs-material-2.7.3"><title>Database解析</title><link rel=stylesheet href=../../assets/stylesheets/application.css><script src=../../assets/javascripts/modernizr.1aa3b519.js></script><script src=../../javascript/jquery-3.3.1.min.js></script><script src=../../javascript/preload.js></script><link rel=stylesheet href=../../fonts/fonts.css><style>body,input{font-family:Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../stylesheets/extra.css></head><body dir=ltr data-md-color-primary=green data-md-color-accent=green><input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=search autocomplete=off><label class=md-overlay data-md-component=overlay for=drawer></label><a href=#database tabindex=1 class=md-skip>跳转至</a><header class=md-header data-md-component=header><nav class="md-header-nav md-grid"><div class=md-flex><div class="md-flex__cell md-flex__cell--shrink"><a href=../../index.html title=SMT导航 class="md-header-nav__button md-logo"><img src=../../saiming/web_logo.png width=44 height=33></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component=title><span class=md-header-nav__topic>SMT导航</span><span class=md-header-nav__topic>Database解析</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for=search></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query placeholder=搜索英文 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active><label class="md-icon md-search__icon" for=search></label><button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1>&#xE5CD;</button></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix><div class=md-search-result data-md-component=result><div class=md-search-result__meta>键入以开始搜索</div><ol class=md-search-result__list></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class=md-header-nav__source><a href=https://github.com/XiaofengdiZhu/SMT3/ title="前往 Github 库" class=md-source data-md-source=github target=_blank><div class=md-source__icon><i class="fa fa-github-alt fa-2x" style=text-align:right;line-height:57px></i></div><div class=md-source__repository>SMT3</div></a></div></div></div></nav></header><div class=md-container><nav class="md-tabs md-tabs--active" data-md-component=tabs><div class="md-tabs__inner md-grid"><ul class=md-tabs__list><li class=md-tabs__item><a href=../../index.html title=关于SMT class=md-tabs__link>关于SMT</a></li><li class=md-tabs__item><a href=../preface/index.html title=MOD教程 class="md-tabs__link md-tabs__link--active">MOD教程</a></li><li class=md-tabs__item><a href=../../other_tutorial/publication_example/index.html title=例子 class=md-tabs__link>例子</a></li></ul></div></nav><main class=md-main><div class="md-main__inner md-grid" data-md-component=container><div class="md-sidebar md-sidebar--primary" data-md-component=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary" data-md-level=0><label class="md-nav__title md-nav__title--site" for=drawer><span class="md-nav__button md-logo"><img src=../../saiming/web_logo.png width=64 height=48></span>SMT导航</label><div class=md-nav__source><a href=https://github.com/XiaofengdiZhu/SMT3/ title="前往 Github 库" class=md-source data-md-source=github target=_blank><div class=md-source__icon><i class="fa fa-github-alt fa-2x" style=text-align:right;line-height:57px></i></div><div class=md-source__repository>SMT3</div></a></div><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1><label class=md-nav__link for=nav-1>关于SMT</label><nav class=md-nav data-md-component=collapsible data-md-level=1><label class=md-nav__title for=nav-1>关于SMT</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../index.html title=简介 class=md-nav__link>简介</a></li><li class=md-nav__item><a href=../../about_SMT/staff/index.html title=编写人员 class=md-nav__link>编写人员</a></li><li class=md-nav__item><a href=../../about_SMT/SMT_rules/index.html title=组规 class=md-nav__link>组规</a></li><li class=md-nav__item><a href=../../about_SMT/SMT_history/index.html title=历史 class=md-nav__link>历史</a></li><li class=md-nav__item><a href=../../about_SMT/SMT_members/index.html title=组员 class=md-nav__link>组员</a></li><li class=md-nav__item><a href=../../about_SMT/nav_update/index.html title=导航更新&离线 class=md-nav__link>导航更新&离线</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked=checked><label class=md-nav__link for=nav-2>MOD教程</label><nav class=md-nav data-md-component=collapsible data-md-level=1><label class=md-nav__title for=nav-2>MOD教程</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../preface/index.html title=序 class=md-nav__link>序</a></li><li class=md-nav__item><a href=../resources/index.html title=资源下载整合 class=md-nav__link>资源下载整合</a></li><li class=md-nav__item><a href=../android_tutorial/index.html title=Android基础教程 class=md-nav__link>Android基础教程</a></li><li class=md-nav__item><a href=../windows_tutorial/index.html title=Windows基础教程 class=md-nav__link>Windows基础教程</a></li><li class=md-nav__item><a href=../content_tutorial/index.html title=Content解析 class=md-nav__link>Content解析</a></li><li class=md-nav__item><a href=../blocksdata_tutorial/index.html title=BlocksData解析 class=md-nav__link>BlocksData解析</a></li><li class=md-nav__item><a href=../xml_tutorial/index.html title=XML教程 class=md-nav__link>XML教程</a></li><li class=md-nav__item><a href=../craftingrecipes_tutorial/index.html title=CraftingRecipes解析 class=md-nav__link>CraftingRecipes解析</a></li><li class=md-nav__item><a href=../clothes_tutorial/index.html title=Clothes解析 class=md-nav__link>Clothes解析</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc><label class="md-nav__link md-nav__link--active" for=toc>Database解析</label><a href=index.html title=Database解析 class="md-nav__link md-nav__link--active">Database解析</a><nav class="md-nav md-nav--secondary"><label class=md-nav__title for=toc>目录</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=#_1 title=前言 class=md-nav__link>前言</a></li><li class=md-nav__item><a href=#_2 title=识别码和继承码 class=md-nav__link>识别码和继承码</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#_3 title=识别码 class=md-nav__link>识别码</a></li><li class=md-nav__item><a href=#_4 title=继承码 class=md-nav__link>继承码</a></li><li class=md-nav__item><a href=#_5 title=举例说明 class=md-nav__link>举例说明</a></li><li class=md-nav__item><a href=#_6 title=默认继承 class=md-nav__link>默认继承</a></li></ul></nav></li><li class=md-nav__item><a href=#database_1 title=根元素Database class=md-nav__link>根元素Database</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#databaseobjecttypes title=DatabaseObjectTypes class=md-nav__link>DatabaseObjectTypes</a></li><li class=md-nav__item><a href=#assemblies title=Assemblies class=md-nav__link>Assemblies</a></li><li class=md-nav__item><a href=#databaseobjects title=DatabaseObjects class=md-nav__link>DatabaseObjects</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#entities title=Entities class=md-nav__link>Entities</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#entitytemplate title=EntityTemplate class=md-nav__link>EntityTemplate</a></li><li class=md-nav__item><a href=#creatures title=Creatures class=md-nav__link>Creatures</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#_7 title=生物继承导图 class=md-nav__link>生物继承导图</a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#subsystems title=Subsystems class=md-nav__link>Subsystems</a></li><li class=md-nav__item><a href=#components title=Components class=md-nav__link>Components</a></li><li class=md-nav__item><a href=#projects title=Projects class=md-nav__link>Projects</a></li><li class=md-nav__item><a href=#abstract title=Abstract class=md-nav__link>Abstract</a></li></ul></nav></li><li class=md-nav__item><a href=#gridviewpresets title=GridViewPresets class=md-nav__link>GridViewPresets</a></li><li class=md-nav__item><a href=#usertypes title=UserTypes class=md-nav__link>UserTypes</a></li></ul></nav></li><li class=md-nav__item><a href=#_8 title=例子 class=md-nav__link>例子</a></li></ul></nav></li><li class=md-nav__item><a href=../source_code_tutorial/index.html title=“源代码”教程 class=md-nav__link>“源代码”教程</a></li><li class=md-nav__item><a href=../regex_tutorial/index.html title=正则表达式教程 class=md-nav__link>正则表达式教程</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3><label class=md-nav__link for=nav-3>例子</label><nav class=md-nav data-md-component=collapsible data-md-level=1><label class=md-nav__title for=nav-3>例子</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../other_tutorial/publication_example/index.html title=发布范例 class=md-nav__link>发布范例</a></li><li class=md-nav__item><a href=../../other_tutorial/animal_example/index.html title=动物相关 class=md-nav__link>动物相关</a></li><li class=md-nav__item><a href=../../other_tutorial/expand_backpack_example/index.html title=扩展背包Mod class=md-nav__link>扩展背包Mod</a></li><li class=md-nav__item><a href=../../other_tutorial/add_block_example/index.html title=添加方块 class=md-nav__link>添加方块</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary"><label class=md-nav__title for=toc>目录</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=#_1 title=前言 class=md-nav__link>前言</a></li><li class=md-nav__item><a href=#_2 title=识别码和继承码 class=md-nav__link>识别码和继承码</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#_3 title=识别码 class=md-nav__link>识别码</a></li><li class=md-nav__item><a href=#_4 title=继承码 class=md-nav__link>继承码</a></li><li class=md-nav__item><a href=#_5 title=举例说明 class=md-nav__link>举例说明</a></li><li class=md-nav__item><a href=#_6 title=默认继承 class=md-nav__link>默认继承</a></li></ul></nav></li><li class=md-nav__item><a href=#database_1 title=根元素Database class=md-nav__link>根元素Database</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#databaseobjecttypes title=DatabaseObjectTypes class=md-nav__link>DatabaseObjectTypes</a></li><li class=md-nav__item><a href=#assemblies title=Assemblies class=md-nav__link>Assemblies</a></li><li class=md-nav__item><a href=#databaseobjects title=DatabaseObjects class=md-nav__link>DatabaseObjects</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#entities title=Entities class=md-nav__link>Entities</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#entitytemplate title=EntityTemplate class=md-nav__link>EntityTemplate</a></li><li class=md-nav__item><a href=#creatures title=Creatures class=md-nav__link>Creatures</a><nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><a href=#_7 title=生物继承导图 class=md-nav__link>生物继承导图</a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#subsystems title=Subsystems class=md-nav__link>Subsystems</a></li><li class=md-nav__item><a href=#components title=Components class=md-nav__link>Components</a></li><li class=md-nav__item><a href=#projects title=Projects class=md-nav__link>Projects</a></li><li class=md-nav__item><a href=#abstract title=Abstract class=md-nav__link>Abstract</a></li></ul></nav></li><li class=md-nav__item><a href=#gridviewpresets title=GridViewPresets class=md-nav__link>GridViewPresets</a></li><li class=md-nav__item><a href=#usertypes title=UserTypes class=md-nav__link>UserTypes</a></li></ul></nav></li><li class=md-nav__item><a href=#_8 title=例子 class=md-nav__link>例子</a></li></ul></nav></div></div></div><div class=md-content><article class="md-content__inner md-typeset"><a href=https://github.com/XiaofengdiZhu/SMT3/edit/master/docs/tutorial/database_tutorial.md title=编辑此页 class="md-icon md-content__icon" target=_blank>&#xE3C9;</a><h1 id=database>Database解析<a class=headerlink href=#database title="Permanent link">&para;</a></h1><blockquote><p>本教程由百度贴吧-<a href="http://tieba.baidu.com/home/main/?un=销锋镝铸" target=_blank>销锋镝铸</a>编写</p></blockquote><div class="admonition warning"><p>请务必先阅读<a href=../xml_tutorial/index.html>XML教程</a><br>本教程对应游戏版本2.1</p></div><h2 id=_1>前言<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2><p>在之前的<a href=../content_tutorial/index.html#_2>Content解析</a>中，提到：</p><blockquote><p><code>Database.xml</code>存储了所有动物（还有主角、船等实体）的大部分属性的xml文件，在“源代码”中新添加的<code>Subsystem</code>、<code>Component</code>子类也需要在此文件中注册</p></blockquote><p>本教程将详细讲解该文件的文件结构和内容</p><h2 id=_2>识别码和继承码<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2><h3 id=_3>识别码<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3><p>该xml文件中大部分元素都有属性<code>Guid</code>，它的中文全名是<code>全局唯一标识符</code>，这里为了方便称呼称为<strong>识别码</strong>；作用是使一个元素具有唯一性，能被被识别，因此<strong>不可重复</strong><br><code>Guid</code>的属性值常见格式为<code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>，其中每个都<code>x</code>是一个十六进制数；也可以不按照格式，任意填写，只要与其他元素的<code>Guid</code>属性值不重复都可以</p><div class="admonition note"><p class=admonition-title>十六进制数</p><p>十六进制数的基数是16，“逢十六进一”，采用的数码是0、1、2、3、4、5、6、7、8、9、A、B、C、D、E、F，其中A-F分别表示十进制数字10-15</p></div><p>如果在载入游戏时出现<code style=font-variant:small-caps>An item with the same key has already been added.</code>说明出现了重复的识别码，可以使用<a href=../resources/index.html#_16>GUID验证器</a>来查重。</p><h3 id=_4>继承码<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3><p>还有相当一部分元素拥有属性<code>InheritanceParent</code>，翻译成中文是<code>继承父辈</code>，我们一般称它为<strong>继承码</strong><br>继承码的作用是使该元素继承一个识别码与它相同的元素的所有内容，包括属性、子元素和后代元素，可以在此称它们互为<code>父子对象</code>，称被继承的为<code>父对象</code>，继承父对象的为<code>子对象</code><br>如果父对象的属性名或子元素名在子元素中也有，那么这些属性和子元素不会继承给子对象</p><div class="admonition warning"><p><code>父子对象</code>非<code>父子元素</code>，父子对象在xml树结构上没有上下级关系</p></div><h3 id=_5>举例说明<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3><p></p><div class=codehilite><pre><span></span><span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;A&quot;</span> <span class=na>Guid=</span><span class=s>&quot;1950&quot;</span><span class=nt>&gt;</span> <span class=c>&lt;!--识别码为1950的文件夹(Folder)A(此例标识码和继承码不按照标准)--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;a&quot;</span> <span class=na>Author=</span><span class=s>&quot;Peter&quot;</span> <span class=nt>/&gt;</span> <span class=c>&lt;!--作者(Author)为Peter的文件(File)a--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;b&quot;</span> <span class=na>Author=</span><span class=s>&quot;Susan&quot;</span> <span class=nt>/&gt;</span> <span class=c>&lt;!--作者为Susan的文件b--&gt;</span>
<span class=nt>&lt;/Folder&gt;</span>
<span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;B&quot;</span> <span class=na>Guid=</span><span class=s>&quot;1956&quot;</span> <span class=na>InheritanceParent=</span><span class=s>&quot;1950&quot;</span><span class=nt>&gt;</span>  <span class=c>&lt;!--识别码为1956，继承码为1950的文件夹B--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;a&quot;</span> <span class=na>Author=</span><span class=s>&quot;Edmund&quot;</span> <span class=nt>/&gt;</span>  <span class=c>&lt;!--作者为Edmund的文件a--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;c&quot;</span> <span class=na>Author=</span><span class=s>&quot;Lucy&quot;</span> <span class=nt>/&gt;</span>  <span class=c>&lt;!--作者为Lucy的文件c--&gt;</span>
<span class=nt>&lt;/Folder&gt;</span>
</pre></div>从这一段代码可以看出文件夹B将继承来自文件夹A的作者为Peter的文件a和作者为Susan的文件b，但是文件夹B自己已经有作者为Edmund的文件a，所以不会继承来自文件夹A的文件a，那么最终文件夹B的实际代码为<div class=codehilite><pre><span></span><span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;B&quot;</span> <span class=na>InheritanceParent=</span><span class=s>&quot;1950&quot;</span><span class=nt>&gt;</span>  <span class=c>&lt;!--识别码为1950的文件夹B--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;a&quot;</span> <span class=na>Author=</span><span class=s>&quot;Edmund&quot;</span> <span class=nt>/&gt;</span>  <span class=c>&lt;!--作者为Peter的文件a--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;b&quot;</span> <span class=na>Author=</span><span class=s>&quot;Susan&quot;</span> <span class=nt>/&gt;</span>  <span class=c>&lt;!--作者为Edmund的文件b--&gt;</span>
    <span class=nt>&lt;File</span> <span class=na>Name=</span><span class=s>&quot;c&quot;</span> <span class=na>Author=</span><span class=s>&quot;Lucy&quot;</span> <span class=nt>/&gt;</span>  <span class=c>&lt;!--作者为Lucy的文件c--&gt;</span>
<span class=nt>&lt;/Folder&gt;</span>
</pre></div><p></p><h3 id=_6>默认继承<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3><p>当一个元素没有继承码属性时，那么它将默认继承其父元素的父对象中相对应元素的内容，实例如下：</p><div class=codehilite><pre><span></span><span class=nt>&lt;EntityTemplate</span> <span class=na>Name=</span><span class=s>&quot;AICreature&quot;</span> <span class=na>Guid=</span><span class=s>&quot;3f077159-f492-419b-859a-bb051de6339f&quot;</span> <span class=na>InheritanceParent=</span><span class=s>&quot;bc5be211-c1f8-4e50-9ffb-4fde625d2692&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;MemberComponentTemplate</span> <span class=na>Name=</span><span class=s>&quot;Mount&quot;</span> <span class=na>Guid=</span><span class=s>&quot;d7655ac3-4c88-4e89-8018-83155cd7bfbc&quot;</span> <span class=na>InheritanceParent=</span><span class=s>&quot;d0b14127-39ce-4490-af00-fb4111e9c51e&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;Parameter</span> <span class=na>Name=</span><span class=s>&quot;DismountOffset&quot;</span> <span class=na>Guid=</span><span class=s>&quot;3be6ca1c-17c5-4fd7-ad58-6f52d9651188&quot;</span> <span class=na>Value=</span><span class=s>&quot;1.5,0.3,0&quot;</span> <span class=na>Type=</span><span class=s>&quot;Vector3&quot;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/MemberComponentTemplate&gt;</span>
    ...
<span class=nt>&lt;/EntityTemplate&gt;</span>
...
<span class=nt>&lt;EntityTemplate</span> <span class=na>Name=</span><span class=s>&quot;LandAnimal&quot;</span> <span class=na>Guid=</span><span class=s>&quot;e4275171-a39f-413f-8888-4c472868364d&quot;</span> <span class=na>InheritanceParent=</span><span class=s>&quot;3f077159-f492-419b-859a-bb051de6339f&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;MemberComponentTemplate</span> <span class=na>Name=</span><span class=s>&quot;Mount&quot;</span> <span class=na>Guid=</span><span class=s>&quot;d7855ac3-4c88-4e86-8018-83155cd7bfbc&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;Parameter</span> <span class=na>Name=</span><span class=s>&quot;MountOffset&quot;</span> <span class=na>Guid=</span><span class=s>&quot;3b86ca1c-1765-4fd7-ad58-6f52d9651188&quot;</span> <span class=na>Value=</span><span class=s>&quot;0,1.35,0&quot;</span> <span class=na>Type=</span><span class=s>&quot;Vector3&quot;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/MemberComponentTemplate&gt;</span>
    ...
<span class=nt>&lt;/EntityTemplate&gt;</span>
</pre></div>从实例中可以看到，<code>LandAnimal</code>的父对象是<code>AICreature</code>，那么<code>LandAnimal</code>的子元素<code>Mount</code>将继承得到<code>AICreature</code>的子元素<code>Mount</code>的子元素<code>DismountOffset</code><p></p><h2 id=database_1>根元素Database<a class=headerlink href=#database_1 title="Permanent link">&para;</a></h2><p><code>Database.xml</code>文件的根元素<code>Database</code>及其子元素如下所示，以下将对每个子元素一一说明解析</p><div class=codehilite><pre><span></span><span class=nt>&lt;Database&gt;</span>
    <span class=nt>&lt;DatabaseObjectTypes&gt;</span>…<span class=nt>&lt;/DatabaseObjectTypes&gt;</span>
    <span class=nt>&lt;Assemblies&gt;</span>…<span class=nt>&lt;/Assemblies&gt;</span>
    <span class=nt>&lt;DatabaseObjects</span> <span class=na>RootGuid=</span><span class=s>&quot;2c273f6a-efce-4bf1-a8ae-e3aea7ffb75c&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/DatabaseObjects&gt;</span>
    <span class=nt>&lt;GridViewPresets&gt;</span>…<span class=nt>&lt;/GridViewPresets&gt;</span>
    <span class=nt>&lt;UserTypes</span> <span class=nt>/&gt;</span>
<span class=nt>&lt;/Database&gt;</span>
</pre></div><p></p><h3 id=databaseobjecttypes>DatabaseObjectTypes<a class=headerlink href=#databaseobjecttypes title="Permanent link">&para;</a></h3><p>这一元素可以看作是<code>DatabaseObjects</code>元素的层级说明，说明每一个层级可以有什么子元素等，以其中两个个子元素为例<br></p><div class=codehilite><pre><span></span>    <span class=nt>&lt;DatabaseObjectType</span> <span class=na>Name=</span><span class=s>&quot;ComponentTemplate&quot;</span> <span class=na>DefaultInstanceName=</span><span class=s>&quot;Component&quot;</span> 
        <span class=na>IconName=</span><span class=s>&quot;ComponentTemplate&quot;</span> <span class=na>Order=</span><span class=s>&quot;6&quot;</span> <span class=na>SupportsValue=</span><span class=s>&quot;False&quot;</span> 
        <span class=na>MustInherit=</span><span class=s>&quot;False&quot;</span> <span class=na>NameLengthLimit=</span><span class=s>&quot;256&quot;</span> <span class=na>SaveStandalone=</span><span class=s>&quot;False&quot;</span> 
        <span class=na>AllowedNestingParents=</span><span class=s>&quot;Root,Folder&quot;</span> <span class=na>AllowedInheritanceParents=</span><span class=s>&quot;ComponentTemplate&quot;</span> 
        <span class=na>NestedValueType=</span><span class=s>&quot;Parameter&quot;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;DatabaseObjectType</span> <span class=na>Name=</span><span class=s>&quot;MemberComponentTemplate&quot;</span> <span class=na>DefaultInstanceName=</span><span class=s>&quot;MemberComponent&quot;</span> 
        <span class=na>IconName=</span><span class=s>&quot;MemberComponentTemplate&quot;</span> <span class=na>Order=</span><span class=s>&quot;7&quot;</span> <span class=na>SupportsValue=</span><span class=s>&quot;False&quot;</span> 
        <span class=na>MustInherit=</span><span class=s>&quot;True&quot;</span> <span class=na>NameLengthLimit=</span><span class=s>&quot;256&quot;</span> <span class=na>SaveStandalone=</span><span class=s>&quot;False&quot;</span> 
        <span class=na>AllowedNestingParents=</span><span class=s>&quot;EntityTemplate&quot;</span> <span class=na>AllowedInheritanceParents=</span><span class=s>&quot;ComponentTemplate&quot;</span> 
        <span class=na>NestedValueType=</span><span class=s>&quot;Parameter&quot;</span> <span class=nt>/&gt;</span>
</pre></div>属性详解：<br><style>article th,td{vertical-align:middle!important;word-break:break-all}</style><table style=table-layout:fixed;min-width:54rem><thead><tr><th style=width:10rem;word-break:break-all>属性名</th><th style=width:8rem>翻译</th><th>详解</th></tr></thead><tbody><tr><td>Name</td><td>名字</td><td>(作为<code>Template模板</code>)出现的元素名</td></tr><tr><td>Default<br>Instance<br>Name</td><td>默认实例名称</td><td>作为<code>Instance实例</code>出现的元素名。<br>模板只写在<code>Database.xml</code>，而实例则是在游戏运行时由模板创建而来，最后保存到存档的<code>Project.xml</code>中</td></tr><tr><td>IconName</td><td>图标名字</td><td>作用不明</td></tr><tr><td>Order</td><td>保存次序</td><td>表示元素名为<code>Name</code>的元素（以下简称<code>Name元素</code>）在游戏保存时的次序，数字越小越先保存，目的是防止xml树结构错误</td></tr><tr><td>Supports<br>Value</td><td>是否支持<code>Value(值)</code>属性</td><td>Name元素是否能够拥有属性<code>Value(值)</code><br>当这个元素拥有<code>Value</code>属性时，还需要有对应的<code>Type(数据类型)</code>属性</td></tr><tr><td>MustInherit</td><td>是否必须继承</td><td>Name元素是否必须拥有属性<code>InheritanceParent(继承码)</code></td></tr><tr><td>Name<br>LengthLimit</td><td>名字长度限制</td><td>Name元素的<code>Name</code>属性的字节数限制，属性值都是256</td></tr><tr><td>Save<br>Standalone</td><td>是否单独保存</td><td>作用不明</td></tr><tr><td>Allowed<br>Nesting<br>Parents</td><td>允许嵌入的父元素</td><td>Name元素的父元素只能是该属性值之一</td></tr><tr><td>Allowed<br>Inheritance<br>Parents</td><td>允许继承的父对象</td><td>Name元素继承的父对象只能是该属性值之一</td></tr><tr><td>Nested<br>ValueType</td><td>嵌套值类型</td><td>除<code>Name</code>属性值为<code>Parameter(参数)</code>的元素外，该属性值都是<code>Parameter</code></td></tr></tbody></table><p></p><h3 id=assemblies>Assemblies<a class=headerlink href=#assemblies title="Permanent link">&para;</a></h3><p>作用不明，将所有子元素删除后游戏仍能正常运行</p><h3 id=databaseobjects>DatabaseObjects<a class=headerlink href=#databaseobjects title="Permanent link">&para;</a></h3><p>该元素是整个<code>Database.xml</code>最重要的一部分，如下代码所示，以下将针对每个<code>Folder(文件夹)</code>做说明</p><div class=codehilite><pre><span></span><span class=nt>&lt;DatabaseObjects</span> <span class=na>RootGuid=</span><span class=s>&quot;2c273f6a-efce-4bf1-a8ae-e3aea7ffb75c&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Entities&quot;</span> <span class=na>Guid=</span><span class=s>&quot;5fcdf35f-7001-442c-883e-e0502b15d291&quot;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Creatures&quot;</span> <span class=na>Guid=</span><span class=s>&quot;beb2de3c-1a77-4950-b74f-9dd470f751fe&quot;</span><span class=nt>&gt;</span>… <span class=nt>&lt;/Folder&gt;</span>
        <span class=nt>&lt;EntityTemplate</span> <span class=na>Name=</span><span class=s>&quot;Chest&quot;</span> <span class=na>Guid=</span><span class=s>&quot;08550017-af17-4955-81fa-aafaf97b92bd&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/EntityTemplate&gt;</span>
        …<span class=c>&lt;!-- 各种BlockEntity(方块实体) --&gt;</span>
        <span class=nt>&lt;EntityTemplate</span> <span class=na>Name=</span><span class=s>&quot;Furnace&quot;</span> <span class=na>Guid=</span><span class=s>&quot;f4a43056-d37d-455f-9a43-803260a915a9&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/EntityTemplate&gt;</span>
    <span class=nt>&lt;/Folder&gt;</span>
    <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Subsystems&quot;</span> <span class=na>Guid=</span><span class=s>&quot;75acb50b-fb75-4c85-af38-a0fb51a9eb90&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/Folder&gt;</span>
    <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Components&quot;</span> <span class=na>Guid=</span><span class=s>&quot;766da18a-636a-4a88-803c-4462aed106f3&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/Folder&gt;</span>
    <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Projects&quot;</span> <span class=na>Guid=</span><span class=s>&quot;aec7b5f9-de96-4ef0-8b6c-4a9e3b021ddf&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/Folder&gt;</span>
    <span class=nt>&lt;Folder</span> <span class=na>Name=</span><span class=s>&quot;Abstract&quot;</span> <span class=na>Guid=</span><span class=s>&quot;c6ba6a30-5042-4d3d-9bea-199cd4acc3fa&quot;</span><span class=nt>&gt;</span>…<span class=nt>&lt;/Folder&gt;</span>
<span class=nt>&lt;/DatabaseObjects&gt;</span>
</pre></div><p></p><h4 id=entities>Entities<a class=headerlink href=#entities title="Permanent link">&para;</a></h4><p>在上面的代码中已经能够看到，它包含一个<code>Creatures(生物)</code>文件夹和一些单独列出的<code>EntityTemplate(实体模板)</code></p><h5 id=entitytemplate>EntityTemplate<a class=headerlink href=#entitytemplate title="Permanent link">&para;</a></h5><p>先来说说这些单独列出的实体模板，它包括：</p><ul><li>类似生物<ul><li><code>IntroShip(介绍船)</code></li><li><code>Boat(小船)</code></li></ul></li><li>BlockEntity(方块实体)类型<ul><li><code>Chest(箱子)</code></li><li><code>Dispenser(发射器)</code></li><li><code>CraftingTable(合成台)</code></li><li><code>Furnace(火炉)</code></li></ul></li></ul><p>可以看出，它们和生物不太一样，但也都是实体</p><div class="admonition hint"><p class=admonition-title>实体和Component</p><p>实体的一般特征是具有一个或多个<code>Component</code>，可以认为实体是<code>Component</code>的载体</p></div><h5 id=creatures>Creatures<a class=headerlink href=#creatures title="Permanent link">&para;</a></h5><p>该文件夹下面还包含以下三个文件夹：</p><ul><li><code>Abstract(摘要)</code>不能被实例化的生物摘要<span class="critic comment">翻译可能不够准确</span>，用于被下面的<code>Animals(动物)</code>文件夹内的实体继承，有诸如<code>Bird(鸟)</code>、<code>LandAnimal(地面生物)</code>、<code>Fish(鱼)</code>等实体模板。在下面的生物继承导图中是紫色边框。</li><li><code>Animals(动物)</code>除<code>Player玩家</code>外所有动物的实体模板都在这个文件夹内。一般修改特定动物数据或添加新动物都在这个文件夹内进行；如果要修改一组生物，可以修改它们的共同父对象或共同父对象的父对象……</li><li><code>Players(玩家)</code>顾名思义，玩家的实体模板在这个文件夹内，包括<code>FemalePlayer(女性玩家)</code>和<code>MalePlayer(男性玩家)</code></li></ul><p>具体一个实体模板里的子元素在此不详细解析，可以参考<a href=../resources/index.html#_16>中文版Database.xml 1.25</a></p><div class="admonition warning"><p><a href=../resources/index.html#_16>中文版Database.xml 1.25</a>虽然过于古老，但后来新增的内容并不算多，还很“够用”</p></div><h6 id=_7>生物继承导图<a class=headerlink href=#_7 title="Permanent link">&para;</a></h6><p style=text-align:center><img alt=点击查看大图 onclick=openPhotoSwipe(0) src=../../saiming/database_1.png style=max-height:600px;cursor:pointer title=点击查看大图><br>点击图片查看大图，或<a href="http://pan.baidu.com/share/link?shareid=68742967&amp;uk=2788149454" target=_blank>点击此处下载</a></p><h4 id=subsystems>Subsystems<a class=headerlink href=#subsystems title="Permanent link">&para;</a></h4><p>所有要被加载的<code>Subsystem</code>都在这个文件夹</p><h4 id=components>Components<a class=headerlink href=#components title="Permanent link">&para;</a></h4><p>所有要被加载的<code>Component</code>都在这个文件夹</p><div class="admonition hint"><p class=admonition-title>Component和Subsystem</p><p><code>Component</code>能被多个实体各自拥有一个，独立运行；相对的，一个<code>Subsystem</code>在游戏运行时只会被实例化一个</p></div><h4 id=projects>Projects<a class=headerlink href=#projects title="Permanent link">&para;</a></h4><p>详细说明见下一小节</p><h4 id=abstract>Abstract<a class=headerlink href=#abstract title="Permanent link">&para;</a></h4><p>该文件夹的子元素<code>SubsystemTemplate</code>和<code>ComponentTemplate</code>分别是上面所有其他<code>SubsystemTemplate</code>和<code>ComponentTemplate</code>的父对象；<code>ProjectTemplate</code>则是上一节的唯一子元素的父对象<br>此处的<code>ProjectTemplate</code>相当于是包含了游戏进入存档时所有真正要使用的<code>Subsystem</code>，而上面的<code>Subsystems</code>文件夹只是载入游戏时预先加载和设定相关参数；所以如果要添加<code>Subsystem</code>，在上面的<code>Subsystems</code>文件夹和该文件夹都需要将它“注册”</p><h3 id=gridviewpresets>GridViewPresets<a class=headerlink href=#gridviewpresets title="Permanent link">&para;</a></h3><p>作用不明，将该元素删除后游戏仍能正常运行</p><h3 id=usertypes>UserTypes<a class=headerlink href=#usertypes title="Permanent link">&para;</a></h3><p>作用不明，将该元素删除后游戏仍能正常运行</p><h2 id=_8>例子<a class=headerlink href=#_8 title="Permanent link">&para;</a></h2><p>详见<a href=../../other_tutorial/animal_example/index.html>动物相关</a>例子</p><!-- photoswipe查看大图插件 --><p><link rel=stylesheet href=../../assets/photoswipe/photoswipe.css><script src=../../assets/photoswipe/photoswipe.min.js></script></p><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title=Share></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script>function openPhotoSwipe(e){var o=document.querySelectorAll(".pswp")[0];new PhotoSwipe(o,PhotoSwipeUI_Default,[{src:"../../saiming/database_1.png",w:1105,h:3064}],{index:e,bgOpacity:.7,showHideOpacity:!0,shareButtons:[{id:"download",label:"保存图片",url:"{{raw_image_url}}",download:!0}]}).init()}</script><p></p></article></div></div></main><footer class=md-footer><div class=md-footer-nav><nav class="md-footer-nav__inner md-grid"><a href=../clothes_tutorial/index.html title=Clothes解析 class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis><span class=md-footer-nav__direction>上一篇</span>Clothes解析</span></div></a><a href=../source_code_tutorial/index.html title=“源代码”教程 class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis><span class=md-footer-nav__direction>下一篇</span>“源代码”教程</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-footer-copyright>powered by<a href=http://www.mkdocs.org>MkDocs</a>and<a href=https://squidfunk.github.io/mkdocs-material/ >Material for MkDocs</a></div><div class=md-footer-social><a href=https://github.com/XiaofengdiZhu class="md-footer-social__link fa fa-github-alt" target=_blank></a></div></div></div><div class="footer-Update hide"><div class=footer-Update-container><div class=footer-Update-innerText>检测到新版本App</div><div class=footer-Update-button>下载!</div></div></div></footer></div><script src=../../assets/javascripts/application.b438e6c5.js></script><script src=../../assets/javascripts/lunr/lunr.js></script><script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script><script src=../../javascript/extra.js></script><script>0!==webUrl.indexOf("file:///data")&&0!==webUrl.indexOf("file:///android_asset")||document.write("<script src='../../cordova.js'><\/script>")</script><script>"undefined"!=typeof cordova&&document.write("<script src='../../javascript/cordova_extra.js'><\/script>")</script><script>if(0===webUrl.indexOf("http")){!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script"),ga("create","UA-119895782-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(t){t.host!=document.location.host&&t.addEventListener("click",function(){var e=t.getAttribute("data-md-action")||"follow";ga("send","event","outbound",e,t.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}}</script></body></html>